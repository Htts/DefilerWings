<<<<<<< HEAD
﻿# DONE: РќСѓР¶РЅРѕ С‡С‚РѕР±С‹ С‚РµРєСЃС‚ РѕРґРЅРёРј РєСѓСЃРєРѕРј РїСЂРѕРєСЂСѓС‡РёРІР°Р»СЃСЏ СЃРЅРёР·Сѓ РІРІРµСЂС… РЅР° С„РѕРЅРµ РјРµРЅСЏСЋС‰РёС…СЃСЏ РєР°СЂС‚РёРЅРѕРє. Р С‡С‚РѕР±С‹ С‚РµРєСЃС‚ РЅРѕСЂРјР°Р»СЊРЅРѕ С‡РёС‚Р°Р»СЃСЏ РЅСѓР¶РЅРѕ Р»РёР±Рѕ РѕР±РІРµСЃС‚Рё Р±СѓРєРІС‹, Р»РёР±Рѕ СЃРґРµР»Р°С‚СЊ РїРѕРґР»РѕР¶РєСѓ.
# РўODO: РќСѓР¶РЅРѕ С‡С‚РѕР±С‹ РїСЂРё РЅР°Р¶Р°С‚РёРё esc Рё РїСЂРѕС‡РёС… РІС‹Р·РѕРІРѕРІ РјРµРЅСЋ РїСЂРѕРєСЂСѓС‚РєР° РѕСЃС‚Р°РЅР°РІР»РёРІР°Р»Р°СЃСЊ.
=======
# DONE: Нужно чтобы текст одним куском прокручивался снизу вверх на фоне меняющихся картинок. И чтобы текст нормально читался нужно либо обвести буквы, либо сделать подложку.
# DONE: Нужно чтобы при нажатии esc и прочих вызовов меню прокрутка останавливалась.
>>>>>>> Добавлены комментарии, добавлено ограничение по ширине, чтобы текст заведомо не вылезал за границы экрана.
    
transform bottom_to_top:                #Трансформ прокручивающий текст
        ypos 720 xalign 0.5             #Начальное положение текста - по вертикали убран занижний край и выровнен посередине
        linear 90.0 ypos 0 yanchor 1.0  #За 90 секунд поднимаем текст до верхней кромки и смещаем якорь (по которому высчитывается положение текста)

transform intro_bg:
    "intro 1"                   #Начальная картинка (нужна чтобы показать ее если пошел повтор
    pause 10                    #Задержка перед следущей картинкой
    "intro 2" with dissolve     #Показываем следущую картинку
    pause 10
    "intro 3" with dissolve
    pause 10
    "intro 4" with dissolve
    pause 10
    "intro 5" with dissolve
    pause 10
    "intro 6" with dissolve
    pause 10
    "intro 7" with dissolve
    pause 10
    "intro 8" with dissolve
    pause 10
    repeat                      #Повторяем по кругу
    
screen sc_intro:
    add "intro 1" at intro_bg           #Показываем фон и добавляем трансформ чтобы он менялся по ходу сцены
    text intro_text at bottom_to_top:   #Добавляем текст (определен в text.py) с прокруткой
        first_indent 30                 #Отступ для первой строки в параграфе
        newline_indent True             #Нужно применять отступ для каждой первой строки в параграфе.
        layout "tex"                    #Разбивка текста на строки
        justify True                    #Выровнять текст по ширине
        outlines [(1, "#0008", 1, 1)]   #Обводка текста, иначе его плохо видно
        xmaximum 900                    #Максимальная ширина текста
        '''
            Кстати, в ренпи есть баг, не работает newline_indent, 
            но если его починить, то текст криво разбивается на строки
            в layout "tex".
        '''
    
    #Назначаем кнопки, чтобы вернуться с этого экрана.
    key "K_SPACE" action Return()
    key 'K_RETURN' action Return()
    key 'K_KP_ENTER' action Return()
    key "mousedown_1" action Return()